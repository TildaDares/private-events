<%= render '/events/navbar' %>
<div class="user d-flex justify-content-center pb-3">
  <div class="d-flex justify-content-start w-50">
    <i class="fas fa-user-circle fa-9x mb-5 mt-5"></i>
    <div class="d-flex justify-content-center w-25 align-items-center flex-row">
      <% if logged_in? %>
        <h4 class="mr-2"><%= current_user.name %></h4>
      <% end %>
      <% if current_user == @user %>
        <%= link_to '<i class="fas fa-edit"></i>'.html_safe, edit_user_path(@user) %>
      <% end %>
    </div>
  </div>
</div>

<ul class="nav nav-tabs container" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <a class="nav-link active" id="all-tab" data-toggle="tab" href="#all" role="tab" aria-controls="all" aria-selected="true">All(<%= @user.hosted_events.count %>)</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="today-tab" data-toggle="tab" href="#today" role="tab" aria-controls="today" aria-selected="false">Today</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="past-tab" data-toggle="tab" href="#past" role="tab" aria-controls="past" aria-selected="past">Past</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="upcoming-tab" data-toggle="tab" href="#upcoming" role="tab" aria-controls="upcoming" aria-selected="false">Upcoming</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="invitations-tab" data-toggle="tab" href="#invitations" role="tab" aria-controls="invitations" aria-selected="false">Invitations</a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
    <div class="mt-5 d-flex justify-content-center row">
  <% @user.hosted_events.each do |event| %>
    <div class="col-lg-4 mt-5 col-md-5">
      <div class="card shadow mb-5 card-height">
        <p class="card-header color-3 text-color-5"><%= event.start_date %></p>
        <div class="card-body">
          <p class="card-subtitle"><%= event.location %></p>
          <p class="card-title"><%= event.title %></p>
          <div class="d-flex justify-content-end mr-3">
            <% if current_user == @user %>
              <%= link_to '<i class="fas fa-trash mr-3"></i>'.html_safe, event_path(event), method: :delete, data: { confirm: "Do you really want to delete this event?" } %>
              <%= link_to '<i class="fas fa-edit mr-3"></i>'.html_safe, edit_event_path(event) %>
            <% end %>
            <%= link_to '<i class="fas fa-eye"></i>'.html_safe, event_path(event) %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
  </div>
  <div class="tab-pane fade" id="today" role="tabpanel" aria-labelledby="today-tab">...</div>
  <div class="tab-pane fade" id="past" role="tabpanel" aria-labelledby="past-tab">...</div>
  <div class="tab-pane fade" id="upcoming" role="tabpanel" aria-labelledby="upcoming-tab">...</div>
  <div class="tab-pane fade" id="invitations" role="tabpanel" aria-labelledby="invitations-tab">...</div>
</div>